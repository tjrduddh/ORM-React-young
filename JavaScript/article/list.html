<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>공지목록</title>
    <link rel="stylesheet" href="./css/index.css">
</head>
<body>
    <!-- 최상위 게시글 목록 영역 -->
    <div class="board_wrap">
        <!-- 제목영역 태그 -->
        <div class="board_title">
            <strong>공지 게시글</strong>
        </div>

        <!-- 전체 게시글 목록 영역 -->
        <div class="board_list_wrap">
            <!-- 게시글 목록 표시영역 -->
            <div class="board_list" id="list">
                <!-- 게시글 캡션-제목 표시영역 -->
                <div class="top">
                    <div class="num">번호</div>
                    <div class="title">제목</div>
                    <div class="writer">글쓴이</div>
                    <div class="date">작성일</div>
                    <div class="count">조회</div>
                </div>

                <!-- 게시글 단일 데이터 표시 영역 -->
                <!-- <div>
                    <div class="num">1</div>
                    <div class="title"><a href="./view.html">글제목입니다</a></div>
                    <div class="writer">오영석</div>
                    <div class="date">2024-02-13</div>
                    <div class="count">99</div>
                </div> -->
            </div>

            <!-- 게시글 페이저 표시영역 -->
            <div class="board_page">
                <a href="#" class="bt first"><<</a>
                <a href="#" class="bt prev"><</a>
                <a href="#" class="num on">1</a>
                <a href="#" class="num">2</a>
                <a href="#" class="num">3</a>
                <a href="#" class="num">4</a>
                <a href="#" class="num">5</a>
                <a href="#" class="bt next">></a>
                <a href="#" class="bt last">>></a>
            </div>

            <!-- 등록버튼 표시 영역 -->
            <div class="bt_wrap">
                <a href="./write.html" class="on">등록</a>
            </div>
        </div>
    </div>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <script>

        $(document).ready(function(){

            // 전체 게시글 목록 조회 후 결과값을 동적으로 tr태그를 생성함
            $.get("http://localhost:3001/api/article/all",function(data){

                console.log("백엔드에서 전달된 전체 게시글 목록보기: ",data);

                $.each(data,function(index,rowData){
                    var articleDiv = `<div>
                    <div class="num">${rowData.article_id}</div>
                    <div class="title"><a href="./view.html?aidx=${rowData.article_id}">${rowData.title}</a></div>
                    <div class="writer">${rowData.reg_member_id}</div>
                    <div class="date">${rowData.reg_date}</div>
                    <div class="count">${rowData.view_count}</div>
                </div>`;

                $('#list').append(articleDiv);

                });
            });
        });

    </script>



</body>
</html>